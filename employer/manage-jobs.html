<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quản Lý Tin Tuyển Dụng - JobHub</title>

    <!-- Bootstrap 5 CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Bootstrap Icons -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
    />
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Outfit:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <!-- Custom CSS -->
    <link rel="stylesheet" href="../css/style.css" />
    <link rel="stylesheet" href="employer-style.css" />
  </head>
  <body>
    <!-- Header -->
    <header class="sticky-top bg-white shadow-sm">
      <nav class="navbar navbar-expand-lg navbar-light">
        <div class="container">
          <a
            class="navbar-brand d-flex align-items-center"
            href="../page/index.html"
          >
            <div class="logo-icon me-2">
              <i class="bi bi-briefcase"></i>
            </div>
            <span class="fw-bold">JobHub</span>
          </a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNav"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto me-auto">
              <li class="nav-item">
                <a class="nav-link" href="employer-dashboard.html">Dashboard</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="post-job.html">Đăng tin</a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" href="manage-jobs.html"
                  >Quản lý tin</a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link" href="job-candidates.html">Ứng viên</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="employer-profile.html">Hồ sơ</a>
              </li>
            </ul>
            <div class="d-flex gap-2 align-items-center">
              <a
                href="../shared/notifications.html"
                class="btn btn-outline-secondary btn-sm position-relative"
              >
                <i class="bi bi-bell"></i>
                <span
                  class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
                  >5</span
                >
              </a>
              <div class="dropdown">
                <button
                  class="btn btn-outline-primary dropdown-toggle"
                  type="button"
                  data-bs-toggle="dropdown"
                >
                  <i class="bi bi-building me-1"></i>Tech Corp
                </button>
                <ul class="dropdown-menu">
                  <li>
                    <a class="dropdown-item" href="employer-profile.html"
                      >Hồ sơ công ty</a
                    >
                  </li>
                  <li>
                    <a class="dropdown-item" href="../shared/settings.html"
                      >Cài đặt</a
                    >
                  </li>
                  <li><hr class="dropdown-divider" /></li>
                  <li>
                    <a class="dropdown-item text-danger" href="../page/index.html"
                      >Đăng xuất</a
                    >
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <!-- Main Content -->
    <div class="manage-jobs-container">
      <div class="container">
        <div class="row mb-4">
          <div class="col-12">
            <div class="d-flex justify-content-between align-items-center">
              <div>
                <h1 class="fw-bold mb-1">Quản lý tin tuyển dụng</h1>
                <p class="text-muted mb-0">
                  Theo dõi và quản lý tất cả tin đăng của bạn
                </p>
              </div>
              <a href="post-job.html" class="btn btn-primary">
                <i class="bi bi-plus-circle me-2"></i>Đăng tin mới
              </a>
            </div>
          </div>
        </div>

        <!-- Stats -->
        <div class="row g-4 mb-4">
          <div class="col-md-3">
            <div class="stats-card">
              <h3 class="fw-bold text-primary">8</h3>
              <p class="text-muted mb-0">Tin đang hoạt động</p>
            </div>
          </div>
          <div class="col-md-3">
            <div class="stats-card">
              <h3 class="fw-bold text-warning">3</h3>
              <p class="text-muted mb-0">Tin chờ duyệt</p>
            </div>
          </div>
          <div class="col-md-3">
            <div class="stats-card">
              <h3 class="fw-bold text-success">156</h3>
              <p class="text-muted mb-0">Tổng ứng viên</p>
            </div>
          </div>
          <div class="col-md-3">
            <div class="stats-card">
              <h3 class="fw-bold text-info">23</h3>
              <p class="text-muted mb-0">Đang phỏng vấn</p>
            </div>
          </div>
        </div>

        <div class="row g-4">
          <!-- Jobs List -->
          <div class="col-lg-8">
            <!-- Filter Tabs -->
            <ul class="nav nav-pills mb-4" id="jobTabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button
                  class="nav-link active"
                  id="all-tab"
                  data-bs-toggle="pill"
                  data-bs-target="#all"
                  type="button"
                >
                  Tất cả tin
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button
                  class="nav-link"
                  id="active-tab"
                  data-bs-toggle="pill"
                  data-bs-target="#active"
                  type="button"
                >
                  Đang tuyển
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button
                  class="nav-link"
                  id="pending-tab"
                  data-bs-toggle="pill"
                  data-bs-target="#pending"
                  type="button"
                >
                  Chờ duyệt
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button
                  class="nav-link"
                  id="draft-tab"
                  data-bs-toggle="pill"
                  data-bs-target="#draft"
                  type="button"
                >
                  Bản nháp
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button
                  class="nav-link"
                  id="closed-tab"
                  data-bs-toggle="pill"
                  data-bs-target="#closed"
                  type="button"
                >
                  Đã đóng
                </button>
              </li>
            </ul>

            <!-- Search and Filter -->
            <div class="quick-action-card">
              <div class="row g-3 align-items-center">
                <div class="col-md-6">
                  <div class="input-group">
                    <span class="input-group-text"
                      ><i class="bi bi-search"></i
                    ></span>
                    <input
                      type="text"
                      class="form-control"
                      placeholder="Tìm kiếm tin tuyển dụng..."
                    />
                  </div>
                </div>
                <div class="col-md-3">
                  <select class="form-select">
                    <option value="">Sắp xếp theo</option>
                    <option value="newest">Mới nhất</option>
                    <option value="candidates">Số ứng viên</option>
                    <option value="deadline">Hạn nộp</option>
                  </select>
                </div>
                <div class="col-md-3">
                  <button class="btn btn-outline-primary w-100">
                    <i class="bi bi-funnel me-1"></i>Lọc
                  </button>
                </div>
              </div>
            </div>

            <!-- Tab Content -->
            <div class="tab-content" id="jobTabsContent">
              <!-- All Jobs -->
              <div class="tab-pane fade show active" id="all" role="tabpanel">
                <!-- Job 1 - Active -->
                <div class="job-card">
                  <div class="row align-items-center">
                    <div class="col">
                      <div
                        class="d-flex justify-content-between align-items-start"
                      >
                        <div>
                          <h5 class="fw-bold mb-1">
                            Frontend Developer Intern
                          </h5>
                          <p class="text-muted mb-2">
                            Hồ Chí Minh • Toàn thời gian • 8-12 triệu
                          </p>
                          <div class="d-flex gap-4 text-muted small">
                            <span
                              ><i class="bi bi-calendar me-1"></i>Đăng:
                              15/12/2024</span
                            >
                            <span
                              ><i class="bi bi-clock me-1"></i>Hạn nộp:
                              25/12/2024</span
                            >
                            <span
                              ><i class="bi bi-eye me-1"></i>245 lượt xem</span
                            >
                          </div>
                        </div>
                        <div class="text-end">
                          <span class="status-badge bg-success text-white"
                            >Đang tuyển</span
                          >
                          <div class="candidate-count mt-2">45 ứng viên</div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="mt-3">
                    <div class="row align-items-center">
                      <div class="col">
                        <div class="d-flex gap-2">
                          <span class="badge bg-light text-dark"
                            >12 ứng viên mới</span
                          >
                          <span class="badge bg-warning">3 chờ phỏng vấn</span>
                          <span class="badge bg-success">2 đã tuyển</span>
                        </div>
                      </div>
                      <div class="col-auto">
                        <div class="btn-group">
                          <a
                            href="job-candidates.html?job=1"
                            class="btn btn-outline-primary btn-sm"
                          >
                            <i class="bi bi-people me-1"></i>Xem ứng viên
                          </a>
                          <button
                            class="btn btn-outline-secondary btn-sm"
                            onclick="editJob(1)"
                          >
                            <i class="bi bi-pencil me-1"></i>Sửa
                          </button>
                          <button
                            class="btn btn-outline-danger btn-sm"
                            onclick="closeJob(1)"
                          >
                            <i class="bi bi-x-circle me-1"></i>Đóng tin
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Job 2 - Pending -->
                <div class="job-card">
                  <div class="row align-items-center">
                    <div class="col">
                      <div
                        class="d-flex justify-content-between align-items-start"
                      >
                        <div>
                          <h5 class="fw-bold mb-1">Senior React Developer</h5>
                          <p class="text-muted mb-2">
                            Hà Nội • Toàn thời gian • 25-40 triệu
                          </p>
                          <div class="d-flex gap-4 text-muted small">
                            <span
                              ><i class="bi bi-calendar me-1"></i>Đăng:
                              16/12/2024</span
                            >
                            <span
                              ><i class="bi bi-clock me-1"></i>Hạn nộp:
                              31/12/2024</span
                            >
                            <span
                              ><i class="bi bi-eye me-1"></i>89 lượt xem</span
                            >
                          </div>
                        </div>
                        <div class="text-end">
                          <span class="status-badge bg-warning text-dark"
                            >Chờ duyệt</span
                          >
                          <div class="candidate-count mt-2">0 ứng viên</div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="mt-3">
                    <div class="row align-items-center">
                      <div class="col">
                        <div class="alert alert-warning small mb-0">
                          <i class="bi bi-info-circle me-1"></i>
                          Tin đang chờ phê duyệt từ quản trị viên
                        </div>
                      </div>
                      <div class="col-auto">
                        <div class="btn-group">
                          <button
                            class="btn btn-outline-secondary btn-sm"
                            onclick="editJob(2)"
                          >
                            <i class="bi bi-pencil me-1"></i>Sửa
                          </button>
                          <button
                            class="btn btn-outline-danger btn-sm"
                            onclick="deleteJob(2)"
                          >
                            <i class="bi bi-trash me-1"></i>Xóa
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Job 3 - Draft -->
                <div class="job-card">
                  <div class="row align-items-center">
                    <div class="col">
                      <div
                        class="d-flex justify-content-between align-items-start"
                      >
                        <div>
                          <h5 class="fw-bold mb-1">UI/UX Designer (Remote)</h5>
                          <p class="text-muted mb-2">
                            Remote • Part-time • 15-25 triệu
                          </p>
                          <div class="d-flex gap-4 text-muted small">
                            <span
                              ><i class="bi bi-calendar me-1"></i>Tạo:
                              17/12/2024</span
                            >
                            <span
                              ><i class="bi bi-pencil me-1"></i>Sửa lần cuối:
                              Hôm nay</span
                            >
                          </div>
                        </div>
                        <div class="text-end">
                          <span class="status-badge bg-secondary text-white"
                            >Bản nháp</span
                          >
                          <div class="candidate-count mt-2">0 ứng viên</div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="mt-3">
                    <div class="row align-items-center">
                      <div class="col">
                        <span class="text-muted small"
                          >Chưa được gửi duyệt</span
                        >
                      </div>
                      <div class="col-auto">
                        <div class="btn-group">
                          <button
                            class="btn btn-outline-primary btn-sm"
                            onclick="continueEditing(3)"
                          >
                            <i class="bi bi-pencil me-1"></i>Tiếp tục chỉnh sửa
                          </button>
                          <button
                            class="btn btn-outline-success btn-sm"
                            onclick="submitForApproval(3)"
                          >
                            <i class="bi bi-send me-1"></i>Gửi duyệt
                          </button>
                          <button
                            class="btn btn-outline-danger btn-sm"
                            onclick="deleteJob(3)"
                          >
                            <i class="bi bi-trash me-1"></i>Xóa
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Other tabs would show filtered jobs -->
              <div class="tab-pane fade" id="active" role="tabpanel">
                <p class="text-muted text-center py-4">
                  Hiển thị tin đang tuyển dụng
                </p>
              </div>
              <div class="tab-pane fade" id="pending" role="tabpanel">
                <p class="text-muted text-center py-4">
                  Hiển thị tin chờ duyệt
                </p>
              </div>
              <div class="tab-pane fade" id="draft" role="tabpanel">
                <p class="text-muted text-center py-4">Hiển thị tin bản nháp</p>
              </div>
              <div class="tab-pane fade" id="closed" role="tabpanel">
                <p class="text-muted text-center py-4">Hiển thị tin đã đóng</p>
              </div>
            </div>

            <!-- Pagination -->
            <nav aria-label="Page navigation" class="mt-4">
              <ul class="pagination justify-content-center">
                <li class="page-item disabled">
                  <a class="page-link" href="#">Trước</a>
                </li>
                <li class="page-item active">
                  <a class="page-link" href="#">1</a>
                </li>
                <li class="page-item"><a class="page-link" href="#">2</a></li>
                <li class="page-item"><a class="page-link" href="#">3</a></li>
                <li class="page-item">
                  <a class="page-link" href="#">Tiếp</a>
                </li>
              </ul>
            </nav>
          </div>

          <!-- Sidebar -->
          <div class="col-lg-4">
            <!-- Quick Actions -->
            <div class="quick-action-card">
              <h5 class="fw-bold mb-3">Hành động nhanh</h5>
              <div class="d-grid gap-2">
                <a href="post-job.html" class="btn btn-primary">
                  <i class="bi bi-plus-circle me-2"></i>Đăng tin mới
                </a>
                <button class="btn btn-outline-primary" onclick="exportJobs()">
                  <i class="bi bi-download me-2"></i>Xuất danh sách
                </button>
                <button class="btn btn-outline-success" onclick="bulkAction()">
                  <i class="bi bi-send me-2"></i>Gửi duyệt hàng loạt
                </button>
              </div>
            </div>

            <!-- Performance Stats -->
            <div class="quick-action-card">
              <h5 class="fw-bold mb-3">Hiệu suất tin đăng</h5>
              <div class="mb-3">
                <h6 class="fw-semibold mb-2">Tỷ lệ chuyển đổi:</h6>
                <div class="progress mb-2">
                  <div class="progress-bar bg-success" style="width: 65%">
                    65%
                  </div>
                </div>
                <small class="text-muted">Lượt xem → Ứng tuyển</small>
              </div>
              <div class="mb-3">
                <h6 class="fw-semibold mb-2">Thời gian trung bình:</h6>
                <div class="d-flex justify-content-between">
                  <small class="text-muted">Tuyển dụng</small>
                  <small class="fw-semibold">12 ngày</small>
                </div>
              </div>
              <div>
                <h6 class="fw-semibold mb-2">Tin hiệu quả nhất:</h6>
                <p class="small mb-1">Frontend Developer Intern</p>
                <small class="text-muted">45 ứng viên • 85% phù hợp</small>
              </div>
            </div>

            <!-- Recent Candidates -->
            <div class="quick-action-card">
              <div
                class="d-flex justify-content-between align-items-center mb-3"
              >
                <h5 class="fw-bold mb-0">Ứng viên mới</h5>
                <a
                  href="job-candidates.html"
                  class="btn btn-sm btn-outline-primary"
                  >Xem tất cả</a
                >
              </div>

              <div class="candidate-item d-flex align-items-center mb-3">
                <div class="flex-shrink-0">
                  <img
                    src="../assets/avatar-placeholder.png"
                    alt="Candidate"
                    width="40"
                    height="40"
                    class="rounded-circle"
                  />
                </div>
                <div class="flex-grow-1 ms-3">
                  <h6 class="fw-semibold mb-0">Nguyễn Văn A</h6>
                  <small class="text-muted">Frontend Developer Intern</small>
                </div>
                <div class="text-end">
                  <small class="text-muted d-block">2 giờ trước</small>
                  <span class="badge bg-warning">Mới</span>
                </div>
              </div>

              <div class="candidate-item d-flex align-items-center">
                <div class="flex-shrink-0">
                  <img
                    src="../assets/avatar-placeholder.png"
                    alt="Candidate"
                    width="40"
                    height="40"
                    class="rounded-circle"
                  />
                </div>
                <div class="flex-grow-1 ms-3">
                  <h6 class="fw-semibold mb-0">Trần Thị B</h6>
                  <small class="text-muted">React Developer</small>
                </div>
                <div class="text-end">
                  <small class="text-muted d-block">5 giờ trước</small>
                  <span class="badge bg-info">Đã xem</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-white py-5 mt-5">
      <div class="container">
        <!-- Footer content same as previous pages -->
      </div>
    </footer>

    <!-- Bootstrap 5 JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      function editJob(jobId) {
        console.log("Editing job:", jobId);
        window.location.href = `post-job.html?edit=${jobId}`;
      }

      function closeJob(jobId) {
        if (
          confirm(
            "Bạn có chắc muốn đóng tin tuyển dụng này? Ứng viên sẽ không thể ứng tuyển nữa."
          )
        ) {
          alert("Đã đóng tin tuyển dụng!");
          console.log("Closed job:", jobId);
          // Update UI to show closed status
          const jobCard = event.target.closest(".job-card");
          const statusBadge = jobCard.querySelector(".status-badge");
          statusBadge.className = "status-badge bg-secondary text-white";
          statusBadge.textContent = "Đã đóng";
        }
      }

      function deleteJob(jobId) {
        if (
          confirm(
            "Bạn có chắc muốn xóa tin tuyển dụng này? Hành động này không thể hoàn tác."
          )
        ) {
          alert("Đã xóa tin tuyển dụng!");
          console.log("Deleted job:", jobId);
          // Remove job card from UI
          event.target.closest(".job-card").remove();
        }
      }

      function continueEditing(jobId) {
        console.log("Continuing editing draft job:", jobId);
        window.location.href = `post-job.html?draft=${jobId}`;
      }

      function submitForApproval(jobId) {
        if (confirm("Gửi tin tuyển dụng này để phê duyệt?")) {
          alert("Đã gửi duyệt! Tin sẽ được kiểm tra trong vòng 24h.");
          console.log("Submitted for approval:", jobId);
          // Update UI to show pending status
          const jobCard = event.target.closest(".job-card");
          const statusBadge = jobCard.querySelector(".status-badge");
          statusBadge.className = "status-badge bg-warning text-dark";
          statusBadge.textContent = "Chờ duyệt";
        }
      }

      function exportJobs() {
        alert("Đang tải về danh sách tin tuyển dụng...");
        // Implement export logic
      }

      function bulkAction() {
        alert("Mở modal chọn tin để gửi duyệt hàng loạt...");
        // Implement bulk action logic
      }

      // Initialize
      document.addEventListener("DOMContentLoaded", function () {
        console.log("Manage jobs page loaded");
      });
    </script>
  </body>
</html>
